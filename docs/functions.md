# 機能仕様書

## F001: ダッシュボード画面
- **概要**: シミュレーション結果のサマリーを視覚的に表示するメイン画面。
- **表示内容**:
  - 現在選択中のプラン名。
  - 「プラン変更」ボタン (F003モーダルを開く)。
  - **収支推移予測グラフ**: 収入と支出の推移を鏡面エリアグラフで表示。
  - **資産・負債推移予測グラフ**: 資産と負債の推移を鏡面エリアグラフで表示。
  - グラフは期間（5年〜50年）を切り替え可能。
- **操作**:
  - 下部ナビゲーションで推移分析画面 (F002) に切り替え。

## F002: 推移分析画面
- **概要**: シミュレーション結果を年ごとの詳細な数値データで確認する画面。
- **表示内容**:
  - **収支テーブル**: 収入・支出の各項目と合計、純収支を年ごとに表示。
  - **資産・負債テーブル**: 資産・負債の各項目と合計、純資産を年ごとに表示。
  - 表示期間（5年〜50年）を切り替え可能。
  - 各カテゴリ（収入、支出など）は折りたたみ可能。
- **操作**:
  - ヘッダーのプラン名ボタンからプラン管理モーダル (F005) を開ける。

## F003: 収支項目管理モーダル (`planModal`)
- **概要**: シミュレーションの基礎となる収入、支出、資産、負債の項目を管理する。
- **機能**:
  - **4カテゴリ**: 収入、支出、資産、負債の項目を一覧表示。
  - **項目追加**: 各カテゴリに新しい項目を追加する (`addItemModal`を使用)。
  - **項目ごとの設定**: 
    - **プラン設定**: 項目のシナリオ（プラン）を管理する (`planManagementModal` F005 を開く)。
    - **金額設定**: 項目の金額や期間、増減率を設定する (`amountModal` F004 を開く)。
  - 変更を保存またはキャンセルできる。

## F004: 金額設定モーダル (`amountModal`)
- **概要**: 個別の収支項目の詳細な金額や期間、変動率を設定する。
- **機能**:
  - **フォーム切り替え**: 項目の種類（フロー/ストック）に応じて入力フォームが切り替わる。
  - **フロー項目 (収入・支出)**:
    - 開始/終了年度
    - 支払い頻度（月額/年額）
    - 金額
    - 年率増減
  - **ストック項目 (資産・負債)**:
    - 基準年度と基準額
    - 年率増減
    - 年額増減（積立・取り崩し）
  - 設定内容に基づいた計算例をリアルタイムで表示。

## F005: プラン管理モーダル (`planManagementModal`)
- **概要**: 特定の項目に対する複数のシナリオ（プラン）を管理する。
- **機能**:
  - **プラン一覧**: 登録されているプランを一覧表示。
  - **プラン選択**: シミュレーションに使用するプランを一つ選択する（ラジオボタン形式）。
  - **プラン追加**: 新しいプラン名を追加する (`addPlanModal`を使用)。
  - **プラン削除**: 不要なプランを削除する（デフォルトプランは削除不可）。

## その他モーダル
- **`addItemModal`**: 項目名を入力して新しい収支項目を追加する。
- **`addPlanModal`**: プラン名を入力して新しいプランを追加する。

## 共通機能
- **レスポンシブデザイン**: スマートフォンサイズ (max-w-sm) に最適化。
- **Glassmorphism UI**: 透明感のあるガラスのようなデザインを採用。
- **インタラクティブなUI**: Lucideアイコンやアニメーションを使用し、直感的な操作感を提供。
